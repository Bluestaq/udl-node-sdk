// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { Metadata, asTextContentResult } from 'unified-data-library-mcp/tools/types';

import { Tool } from '@modelcontextprotocol/sdk/types.js';
import Unifieddatalibrary from 'udl-node-sdk';

export const metadata: Metadata = {
  resource: 'sensor.calibration',
  operation: 'write',
  tags: [],
  httpMethod: 'post',
  httpPath: '/filedrop/udl-sensorcalibration',
  operationId: 'filedrop_udl_sensorcalibration_post_id',
};

export const tool: Tool = {
  name: 'unvalidated_publish_sensor_calibration',
  description:
    'Service operation to take multiple sensorcalibration records as a POST body and ingest into the database. This operation is intended to be used for automated feeds into UDL. A specific role is required to perform this service operation. Please contact the UDL team for assistance.\n',
  inputSchema: {
    type: 'object',
    properties: {
      body: {
        type: 'array',
        items: {
          type: 'object',
          description:
            "The Sensor Calibration service records data about a sensor's overall accuracy and is used to adjust sensor settings to achieve and maintain that accuracy in reported sensor observations. Calibration occurs periodically when needed to maintain sensor accuracy or on-demand to adjust a sensor for a specific reading.",
          properties: {
            classificationMarking: {
              type: 'string',
              description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
            },
            dataMode: {
              type: 'string',
              description:
                'Indicator of whether the data is EXERCISE, REAL, SIMULATED, or TEST data:\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.',
              enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
            },
            idSensor: {
              type: 'string',
              description:
                "Unique identifier of the sensor to which this calibration data applies. This ID can be used to obtain additional information on a sensor using the 'get by ID' operation (e.g. /udl/sensor/{id}). For example, the sensor with idSensor = abc would be queried as /udl/sensor/abc.",
            },
            source: {
              type: 'string',
              description: 'Source of the data.',
            },
            startTime: {
              type: 'string',
              description:
                'Calibration data span start time in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            id: {
              type: 'string',
              description:
                'Unique identifier of the record, auto-generated by the system if not provided on create operations.',
            },
            azRaAccelBias: {
              type: 'number',
              description: 'Sensor azimuth/right-ascension acceleration bias, in degrees per second squared.',
            },
            azRaAccelSigma: {
              type: 'number',
              description:
                'The standard deviation of the azimuth/right ascension acceleration residuals, in degrees, used to determine the sensor azimuth/right-ascension acceleration bias.',
            },
            azRaBias: {
              type: 'number',
              description: 'Sensor azimuth/right-ascension bias, in degrees.',
            },
            azRaRateBias: {
              type: 'number',
              description: 'Sensor azimuth/right-ascension rate bias, in degrees per second.',
            },
            azRaRateSigma: {
              type: 'number',
              description:
                'The standard deviation of the azimuth/right ascension rate residuals, in degrees, used to determine the sensor azimuth/right-ascension rate bias.',
            },
            azRaRms: {
              type: 'number',
              description:
                'The root mean square of the azimuth/right-ascension residuals, in degrees, used to determine the sensor azimuth/right-ascension bias.',
            },
            azRaSigma: {
              type: 'number',
              description:
                'The standard deviation of the azimuth/right ascension residuals, in degrees, used to determine the sensor azimuth/right-ascension bias.',
            },
            calAngleRef: {
              type: 'string',
              description:
                'Specifies the calibration reference angle set for this calibration data set. Azimuth and Elevation (AZEL) or Right Ascension and Declination (RADEC).',
            },
            calTrackMode: {
              type: 'string',
              description:
                'Specifies that the calibration data are from INTRA_TRACK or INTER_TRACK residuals.',
            },
            calType: {
              type: 'string',
              description:
                'The basis of calibration values contained in this record (COMPUTED, OPERATIONAL).',
            },
            confidenceNoiseBias: {
              type: 'number',
              description: 'The confidence noise bias of the duration span.',
            },
            createdAt: {
              type: 'string',
              description: 'Time the row was created in the database, auto-populated by the system.',
              format: 'date-time',
            },
            createdBy: {
              type: 'string',
              description:
                'Application user who created the row in the database, auto-populated by the system.',
            },
            duration: {
              type: 'number',
              description:
                'Duration of the sensor calibration data which produced these values, measured in days.',
            },
            ecr: {
              type: 'array',
              description:
                'Three element array, expressing the sensor location in Earth Centered Rotating (ECR) coordinates, in kilometers. The array element order is [x, y, z].',
              items: {
                type: 'number',
              },
            },
            elDecAccelBias: {
              type: 'number',
              description: 'Sensor elevation/declination acceleration bias, in degrees per second squared.',
            },
            elDecAccelSigma: {
              type: 'number',
              description:
                'The standard deviation of the elevation/declination acceleration residuals, in degrees, used to determine the sensor elevation/declination acceleration bias.',
            },
            elDecBias: {
              type: 'number',
              description: 'Sensor elevation/declination bias, in degrees.',
            },
            elDecRateBias: {
              type: 'number',
              description: 'Sensor elevation/declination rate bias, in degrees per second.',
            },
            elDecRateSigma: {
              type: 'number',
              description:
                'The standard deviation of the elevation/declination rate residuals, in degrees, used to determine the sensor elevation/declination rate bias.',
            },
            elDecRms: {
              type: 'number',
              description:
                'The root mean square of the elevation/declination residuals, in degrees, used to determine the sensor elevation/declination bias.',
            },
            elDecSigma: {
              type: 'number',
              description:
                'The standard deviation of the elevation/declination residuals, in degrees, used to determine the sensor elevation/declination bias.',
            },
            endTime: {
              type: 'string',
              description:
                'Calibration data span end time in ISO 8601 UTC format with millisecond precision. If provided, the endTime must be greater than or equal to the startTime in the SensorCalibration record.',
              format: 'date-time',
            },
            numAzRaObs: {
              type: 'integer',
              description:
                'The number of observables used in determining the azimuth or right-ascension calibration values.',
            },
            numElDecObs: {
              type: 'integer',
              description:
                'The number of observables used in determining the elevation or declination calibration values.',
            },
            numObs: {
              type: 'integer',
              description: 'The total number of observables available over the calibration span.',
            },
            numPhotoObs: {
              type: 'integer',
              description:
                'The number of observables used in determining the photometric calibration values.',
            },
            numRangeObs: {
              type: 'integer',
              description: 'The number of observables used in determining the range calibration values.',
            },
            numRangeRateObs: {
              type: 'integer',
              description: 'The number of observables used in determining the range rate calibration values.',
            },
            numRcsObs: {
              type: 'integer',
              description:
                'The number of observables used in determining the radar cross section (RCS) calibration values.',
            },
            numTimeObs: {
              type: 'integer',
              description: 'The number of observables used in determining the time calibration values.',
            },
            numTracks: {
              type: 'integer',
              description: 'The total number of tracks available over the calibration span.',
            },
            origin: {
              type: 'string',
              description:
                'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
            },
            origNetwork: {
              type: 'string',
              description:
                'The originating source network on which this record was created, auto-populated by the system.',
            },
            photoBias: {
              type: 'number',
              description: 'The sensor photometric observation magnitude bias, in visual magnitude.',
            },
            photoSigma: {
              type: 'number',
              description:
                'The standard deviation of the magnitude residuals, in visual magnitude, used to determine the photometric bias.',
            },
            rangeAccelBias: {
              type: 'number',
              description: 'Sensor range rate acceleration bias, in kilometers per second squared.',
            },
            rangeAccelSigma: {
              type: 'number',
              description:
                'The standard deviation of the range acceleration residuals, in kilometers per second squared, used to determine the sensor range acceleration bias.',
            },
            rangeBias: {
              type: 'number',
              description: 'Sensor range bias, in kilometers.',
            },
            rangeRateBias: {
              type: 'number',
              description: 'Sensor range rate bias, in kilometers per second.',
            },
            rangeRateRms: {
              type: 'number',
              description:
                'The root mean square of the range rate residuals, in kilometers per second, used to determine the sensor range rate bias.',
            },
            rangeRateSigma: {
              type: 'number',
              description:
                'The standard deviation of the range rate residuals, in kilometers per second, used to determine the sensor range rate bias.',
            },
            rangeRms: {
              type: 'number',
              description:
                'The root mean square of the range residuals, in kilometers, used to determine the sensor range bias.',
            },
            rangeSigma: {
              type: 'number',
              description:
                'The standard deviation of the range residuals, in kilometers, used to determine the sensor range bias.',
            },
            rcsBias: {
              type: 'number',
              description: 'The sensor radar cross section (RCS) observation bias, in square meters.',
            },
            rcsSigma: {
              type: 'number',
              description:
                'The standard deviation of the radar cross section residuals, in square meters, used to determine the radar cross section bias.',
            },
            refTargets: {
              type: 'array',
              description: 'Array of the catalog IDs of the reference targets used in the calibration.',
              items: {
                type: 'string',
              },
            },
            refType: {
              type: 'string',
              description: 'The reference type used in the calibration.',
            },
            senType: {
              type: 'string',
              description: 'The sensor type (MECHANICAL, OPTICAL, PHASED ARRAY, RF).',
            },
            sourceDL: {
              type: 'string',
              description:
                'The source data library from which this record was received. This could be a remote or tactical UDL or another data library. If null, the record should be assumed to have originated from the primary Enterprise UDL.',
            },
            timeBias: {
              type: 'number',
              description: 'Sensor time bias, in seconds.',
            },
            timeBiasSigma: {
              type: 'number',
              description:
                'The standard deviation of the time residuals, in seconds, used to determine the sensor time bias.',
            },
          },
          required: ['classificationMarking', 'dataMode', 'idSensor', 'source', 'startTime'],
        },
      },
    },
    required: ['body'],
  },
  annotations: {},
};

export const handler = async (client: Unifieddatalibrary, args: Record<string, unknown> | undefined) => {
  const body = args as any;
  const response = await client.sensor.calibration.unvalidatedPublish(body).asResponse();
  return asTextContentResult(await response.text());
};

export default { metadata, tool, handler };
