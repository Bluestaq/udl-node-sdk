// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { Metadata, asTextContentResult } from 'unified-data-library-mcp/tools/types';

import { Tool } from '@modelcontextprotocol/sdk/types.js';
import Unifieddatalibrary from 'unified-data-library';

export const metadata: Metadata = {
  resource: 'laserdeconflictrequest',
  operation: 'write',
  tags: [],
  httpMethod: 'post',
  httpPath: '/udl/laserdeconflictrequest',
};

export const tool: Tool = {
  name: 'create_laserdeconflictrequest',
  description:
    'Service operation to take a single LaserDeconflictRequest record as a POST body and ingest into the database. This operation does not persist any LaserDeconflictTarget datatypes that may be present in the body of the request. This operation is not intended to be used for automated feeds into UDL. A specific role is required to perform this service operation. Please contact the UDL team for assistance.',
  inputSchema: {
    type: 'object',
    properties: {
      classificationMarking: {
        type: 'string',
        description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
      },
      dataMode: {
        type: 'string',
        description:
          'Indicator of whether the data is EXERCISE, REAL, SIMULATED, or TEST data:\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.',
        enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
      },
      endDate: {
        type: 'string',
        description:
          'End date of the time windows associated with this LaserDeconflictRequest, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      idLaserEmitters: {
        type: 'array',
        description:
          'A list containing the id strings of the LaserEmitter records in UDL detailing the physical parameters of each laser/emitter operationally involved with this request. All laser/emitter components must be accurately described using the LaserEmitter schema and ingested into the UDL LaserEmitter service before creating a LaserDeconflictRequest. Users should create new LaserEmitter records for non-existent emitters and update existing records for any modifications.',
        items: {
          type: 'string',
        },
      },
      numTargets: {
        type: 'integer',
        description: 'The number of targets included in this request.',
      },
      requestId: {
        type: 'string',
        description: 'External identifier for this LaserDeconflictRequest record.',
      },
      requestTs: {
        type: 'string',
        description:
          'The datetime that this LaserDeconflictRequest record was created, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      source: {
        type: 'string',
        description: 'Source of the data.',
      },
      startDate: {
        type: 'string',
        description:
          'Start date of the time windows associated with this LaserDeconflictRequest, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      id: {
        type: 'string',
        description:
          'Unique identifier of the record, auto-generated by the system if not provided on create operations.',
      },
      centerlineAzimuth: {
        type: 'number',
        description:
          'The azimuth angle of the centerline of the geospatial box that confines positions of the laser platform, in degrees.',
      },
      centerlineElevation: {
        type: 'number',
        description:
          'The elevation angle of the centerline of the geospatial box that confines the positions of the laser platform, in degrees.',
      },
      defaultCHA: {
        type: 'number',
        description: 'The half-angle of the safety cone of the laser beam, in degrees.',
      },
      enableDSS: {
        type: 'boolean',
        description: 'Boolean enabling Dynamic Satellite Susceptibility (DSS) algorithms.',
      },
      fixedPoints: {
        type: 'array',
        description:
          'A collection of latitude, longitude, and altitude fields which can be used to specify the geometry of the coordinate space in which the laser platform(s) will be operational for this request. For example, a BOX_2_WAYPOINTS would include two data points, while a BOX_4_SURFACE_POINTS would include four data points.',
        items: {
          type: 'object',
          properties: {
            latitude: {
              type: 'number',
              description:
                'WGS84 latitude of a point, in degrees. -90 to 90 degrees (negative values south of equator).',
            },
            longitude: {
              type: 'number',
              description:
                'WGS84 longitude of a point, in degrees. -180 to 180 degrees (negative values west of Prime Meridian).',
            },
            height: {
              type: 'number',
              description: 'Point height as measured from sea level, ranging from -300 to 1000 kilometers.',
            },
          },
          required: ['latitude', 'longitude'],
        },
      },
      geopotentialModel: {
        type: 'string',
        description:
          'Indicates the geopotential model used in the propagation calculation for this request (e.g. EGM-96, WGS-84, WGS-72, WGS66, WGS60, JGM-2, or GEM-T3).',
      },
      laserDeconflictTargets: {
        type: 'array',
        description:
          'A list containing all laser illumination target object specifications for which deconflictions must be calculated, as planned for this request.',
        items: {
          type: 'object',
          description:
            'Model representation which can be used for the specification of target object for a laser operation. The specification of various target types common across space-to-space, space-to-ground, and ground-to-space laser operations are supported by this model.',
          properties: {
            classificationMarking: {
              type: 'string',
              description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
            },
            dataMode: {
              type: 'string',
              description:
                'Indicator of whether the data is EXERCISE, REAL, SIMULATED, or TEST data:\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.',
              enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
            },
            source: {
              type: 'string',
              description: 'Source of the data.',
            },
            id: {
              type: 'string',
              description: 'Unique identifier of the record, auto-generated by the system.',
            },
            azimuth: {
              type: 'number',
              description: 'The expected or directed azimuth angle of this target, in degrees.',
            },
            azimuthEnd: {
              type: 'number',
              description:
                'The secondary azimuth angle specifying the end of the azimuthal range that defines this target area, in degrees.',
            },
            azimuthIncrement: {
              type: 'number',
              description:
                'The incremental change in angle over the given azimuthal range at which the target area will be engaged, in degrees.',
            },
            azimuthStart: {
              type: 'number',
              description:
                'The initial azimuth angle specifying the start of the azimuthal range that defines this target area, in degrees.',
            },
            centerlineAzimuth: {
              type: 'number',
              description:
                'The azimuth angle of the centerline of the geospatial box that confines positions of the target, in degrees.',
            },
            centerlineElevation: {
              type: 'number',
              description:
                'The elevation angle of the centerline of the geospatial box that confines the positions of the target, in degrees.',
            },
            createdAt: {
              type: 'string',
              description: 'Time the row was created in the database, auto-populated by the system.',
              format: 'date-time',
            },
            createdBy: {
              type: 'string',
              description:
                'Application user who created the row in the database, auto-populated by the system.',
            },
            declination: {
              type: 'number',
              description: 'The expected or directed declination angle of this target, in degrees.',
            },
            elevation: {
              type: 'number',
              description: 'The expected or directed elevation angle of this target, in degrees.',
            },
            elevationEnd: {
              type: 'number',
              description:
                'The secondary elevation angle specifying the end of the elevation range that defines this target area, in degrees.',
            },
            elevationIncrement: {
              type: 'number',
              description:
                'The incremental change in angle across the given elevation range at which the target area will be engaged, in degrees.',
            },
            elevationStart: {
              type: 'number',
              description:
                'The initial elevation angle specifying the start of the elevation range that defines this target area, in degrees.',
            },
            fixedPoints: {
              type: 'array',
              description:
                'A collection of latitude, longitude, and altitude fields which can be used to specify the geometry of the coordinate space of this target. For example, a BOX_2_WAYPOINTS would include two data points, while a BOX_4_SURFACE_POINTS would include four data points.',
              items: {
                type: 'object',
                properties: {
                  latitude: {
                    type: 'number',
                    description:
                      'WGS84 latitude of a point, in degrees. -90 to 90 degrees (negative values south of equator).',
                  },
                  longitude: {
                    type: 'number',
                    description:
                      'WGS84 longitude of a point, in degrees. -180 to 180 degrees (negative values west of Prime Meridian).',
                  },
                  height: {
                    type: 'number',
                    description:
                      'Point height as measured from sea level, ranging from -300 to 1000 kilometers.',
                  },
                },
                required: ['latitude', 'longitude'],
              },
            },
            idLaserDeconflictRequest: {
              type: 'string',
              description:
                'Unique identifier of the parent LaserDeconflictRequest record containing this target.',
            },
            lengthCenterline: {
              type: 'number',
              description:
                'The length of the centerline that passes through the center point of the geospatial box that confines the positions of the target, in kilometers.',
            },
            lengthLeftRight: {
              type: 'number',
              description:
                'Specifies the length of the horizontal dimension of the geospatial box that confines the positions of the target, in kilometers.',
            },
            lengthUpDown: {
              type: 'number',
              description:
                'Specifies the length of the vertical dimension of the geospatial box that confines the positions of the target, in kilometers.',
            },
            maximumHeight: {
              type: 'number',
              description:
                'The maximum target altitude specified as the height above/below the WGS84 ellipsoid, in kilometers.',
            },
            minimumHeight: {
              type: 'number',
              description:
                'The minimum target altitude specified as the height above/below the WGS84 ellipsoid, in kilometers.',
            },
            origin: {
              type: 'string',
              description:
                'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
            },
            origNetwork: {
              type: 'string',
              description:
                'The originating source network on which this record was created, auto-populated by the system.',
            },
            ra: {
              type: 'number',
              description: 'The expected or directed right ascension angle of this target, in degrees.',
            },
            solarSystemBody: {
              type: 'string',
              description:
                "The name of the target celestial body in Earth's solar system (JUPITER, MARS, MERCURY, MOON, NEPTUNE, PLUTO, SATURN, SUN, URANUS, VENUS).",
            },
            sourceDL: {
              type: 'string',
              description:
                'The source data library from which this record was received. This could be a remote or tactical UDL or another data library. If null, the record should be assumed to have originated from the primary Enterprise UDL.',
            },
            starNumber: {
              type: 'integer',
              description: 'The reference number of the target star.',
            },
            startDate: {
              type: 'string',
              description:
                'Start date of the time windows associated with this LaserDeconflictRequest, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            targetNumber: {
              type: 'integer',
              description: 'The number assigned to this target instance for a request.',
            },
            targetObjectId: {
              type: 'string',
              description:
                'Optional target identifier provided by the source provider. This may be an internal identifier and not necessarily map to UDL entities.',
            },
            targetObjectNo: {
              type: 'integer',
              description: 'If this is an on-orbit target, this is the satellite/catalog number.',
            },
          },
          required: ['classificationMarking', 'dataMode', 'source'],
        },
      },
      laserSystemName: {
        type: 'string',
        description:
          'The name of the laser/beam director system. The Laser Clearinghouse will append identifiers to the name using standard conventions.',
      },
      lengthCenterline: {
        type: 'number',
        description:
          'The length of the centerline that passes through the center point of the geospatial box that confines the positions of the laser platform, in kilometers.',
      },
      lengthLeftRight: {
        type: 'number',
        description:
          'Specifies the length of the horizontal dimension of the geospatial box that confines the positions of the laser platform, in kilometers.',
      },
      lengthUpDown: {
        type: 'number',
        description:
          'Specifies the length of the vertical dimension of the geospatial box that confines the positions of the laser platform, in kilometers.',
      },
      maximumHeight: {
        type: 'number',
        description:
          'The maximum laser operating altitude specified as the height above/below the WGS84 ellipsoid where the laser is omitted from, in kilometers.',
      },
      minimumHeight: {
        type: 'number',
        description:
          'The minimum laser operating altitude specified as the height above/below the WGS84 ellipsoid where the laser is omitted from, in kilometers.',
      },
      missionName: {
        type: 'string',
        description: 'The name of the mission with which this LaserDeconflictRequest is associated.',
      },
      origin: {
        type: 'string',
        description:
          'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
      },
      origObjectId: {
        type: 'string',
        description:
          'Optional identifier provided by the source provider to indicate the on-orbit laser platform. This may be an internal identifier and not necessarily map to a valid satellite number.',
      },
      platformLocationName: {
        type: 'string',
        description: 'The name of the laser platform.',
      },
      platformLocationType: {
        type: 'string',
        description:
          'Indicates the type of location(s) the laser platform will be operational for this request (BOX_2_WAYPOINTS, BOX_4_SURFACE_POINTS, BOX_CENTER_POINT_LINE, EXTERNAL_EPHEMERIS, FIXED_POINT, SATELLITE).',
      },
      programId: {
        type: 'string',
        description:
          'External identifier for the program that is responsible for this LaserDeconflictRequest.',
      },
      propagator: {
        type: 'string',
        description: 'The type of propagator utilized in the deconfliction/predictive avoidance calculation.',
      },
      protectList: {
        type: 'array',
        description:
          'A list of satellite/catalog numbers that should be protected from any and all incidence of laser illumination for the duration of this request.',
        items: {
          type: 'integer',
        },
      },
      satNo: {
        type: 'integer',
        description: 'The satellite/catalog number of the on-orbit laser platform.',
      },
      sourceEnabled: {
        type: 'boolean',
        description: 'Boolean indicating whether error growth of the laser beam is enabled for this request.',
      },
      status: {
        type: 'string',
        description:
          'Status of this request (APPROVED, COMPLETE_WITH_ERRORS, COMPLETE_WITH_WARNINGS, FAILURE, IN_PROGRESS, REQUESTED, SUCCESS).',
      },
      tags: {
        type: 'array',
        description:
          'Optional array of provider/source specific tags for this data, where each element is no longer than 32 characters, used for implementing data owner conditional access controls to restrict access to the data. Should be left null by data providers unless conditional access controls are coordinated with the UDL team.',
        items: {
          type: 'string',
        },
      },
      targetEnabled: {
        type: 'boolean',
        description: 'Boolean indicating whether target error growth is enabled for this request.',
      },
      targetType: {
        type: 'string',
        description:
          'The target type that concerns this request (BOX_2_WAYPOINTS, BOX_4_SURFACE_POINTS, BOX_CENTER_POINT_LINE, EXTERNAL_EPHEMERIS, FIXED_POINT, SATELLITE).',
      },
      transactionId: {
        type: 'string',
        description:
          'Optional identifier to track a commercial or marketplace transaction executed to produce this data.',
      },
      treatEarthAs: {
        type: 'string',
        description:
          'Indicates the treatment of earth (INVISIBLE, VICTIM, SHIELD) for this LaserDeconflictRequest record.',
      },
      useFieldOfRegard: {
        type: 'boolean',
        description:
          "Boolean indicating that, for deconfliction events in which the potential target is an optical imaging satellite, line of sight computation between target and source is ensured when the source emitter is contained within the field of regard (field of view) of the satellite's optical telescope.",
      },
      victimEnabled: {
        type: 'boolean',
        description:
          'Boolean indicating whether victim error growth is enabled as input to the deconfliction calculations for this request.',
      },
    },
    required: [
      'classificationMarking',
      'dataMode',
      'endDate',
      'idLaserEmitters',
      'numTargets',
      'requestId',
      'requestTs',
      'source',
      'startDate',
    ],
  },
  annotations: {},
};

export const handler = async (client: Unifieddatalibrary, args: Record<string, unknown> | undefined) => {
  const body = args as any;
  const response = await client.laserdeconflictrequest.create(body).asResponse();
  return asTextContentResult(await response.text());
};

export default { metadata, tool, handler };
