// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { asTextContentResult } from 'unified-data-library-mcp/tools/types';

import { Tool } from '@modelcontextprotocol/sdk/types.js';
import type { Metadata } from '../';
import Unifieddatalibrary from 'unified-data-library';

export const metadata: Metadata = {
  resource: 'airspace_control_orders',
  operation: 'write',
  tags: [],
  httpMethod: 'post',
  httpPath: '/udl/airspacecontrolorder/createBulk',
};

export const tool: Tool = {
  name: 'create_bulk_airspace_control_orders',
  description:
    "When using this tool, always use the `jq_filter` parameter to reduce the response size and improve performance.\n\nOnly omit if you're sure you don't need the data.\n\nService operation intended for initial integration only, to take a list of AirspaceControlOrder records as a POST body and ingest into the database. This operation is not intended to be used for automated feeds into UDL. Data providers should contact the UDL team for specific role assignments and for instructions on setting up a permanent feed through an alternate mechanism.",
  inputSchema: {
    type: 'object',
    properties: {
      body: {
        type: 'array',
        items: {
          type: 'object',
          description:
            'Beta Version Airspace Control Order: Contains airspace coordination information and instructions that have been issued by an airspace control authority.',
          properties: {
            classificationMarking: {
              type: 'string',
              description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
            },
            dataMode: {
              type: 'string',
              description:
                'Indicator of whether the data is EXERCISE, REAL, SIMULATED, or TEST data:\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.',
              enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
            },
            opExName: {
              type: 'string',
              description:
                'Specifies the unique operation or exercise name, nickname, or codeword assigned to a joint exercise or operation plan.',
            },
            originator: {
              type: 'string',
              description: 'The identifier of the originator of this message.',
            },
            source: {
              type: 'string',
              description: 'Source of the data.',
            },
            startTime: {
              type: 'string',
              description:
                'The start of the effective time period of this airspace control order, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            id: {
              type: 'string',
              description: 'Unique identifier of the record, auto-generated by the system.',
            },
            acoComments: {
              type: 'string',
              description: 'Free text information expressed in natural language.',
            },
            acoSerialNum: {
              type: 'string',
              description: 'The serial number of this airspace control order.',
            },
            airspaceControlMeansStatus: {
              type: 'array',
              description:
                'Mandatory nested segment to report multiple airspace control means statuses within an ACOID.',
              items: {
                type: 'object',
                description:
                  'Mandatory nested segment to report multiple airspace control means statuses within an ACOID.',
                properties: {
                  airspaceControlMeans: {
                    type: 'array',
                    description:
                      'A conditional nested segment to report multiple airspace control means within a particular airspace control means status.',
                    items: {
                      type: 'object',
                      description:
                        'A conditional nested segment to report multiple airspace control means within a particular airspace control means status.',
                      properties: {
                        airspaceControlPoint: {
                          type: 'array',
                          description:
                            'The controlPoint set describes any reference/controlling/rendezvous point for a given airspace control means.',
                          items: {
                            type: 'object',
                            description:
                              'The controlPoint set describes any reference/controlling/rendezvous point for a given airspace control means.',
                            properties: {
                              ctrlPtAltitude: {
                                type: 'string',
                                description: 'The altitude of the control point.',
                              },
                              ctrlPtLocation: {
                                type: 'string',
                                description:
                                  'A geospatial point coordinate specified in DMS (Degrees, Minutes, Seconds) format that represents the location of the control point.',
                              },
                              ctrlPtName: {
                                type: 'string',
                                description: 'The name applied to the control point, used as a reference.',
                              },
                              ctrlPtType: {
                                type: 'string',
                                description:
                                  'One of possible control point type codes, such as CP, ER, OT, etc.',
                              },
                            },
                            required: [],
                          },
                        },
                        airspaceTimePeriod: {
                          type: 'array',
                          description:
                            'The timePeriods set describes the effective datetime for a given airspace control means.',
                          items: {
                            type: 'object',
                            description:
                              'The timePeriods set describes the effective datetime for a given airspace control means.',
                            properties: {
                              intDur: {
                                type: 'array',
                                description:
                                  'Mandatory if timeMode is INTERVAL. Can be a numerical multiplier on an interval frequency code, a stop time qualifier code such as AFTER, NET, UFN, etc, or a datetime like string.',
                                items: {
                                  type: 'string',
                                },
                              },
                              intFreq: {
                                type: 'array',
                                description:
                                  'Mandatory if timeMode is INTERVAL. Can be one of the interval frequency codes, such as BIWEEKLY, DAILY, YEARLY, etc.',
                                items: {
                                  type: 'string',
                                },
                              },
                              timeEnd: {
                                type: 'string',
                                description:
                                  'The end time designating that the airspace control order is no longer active. Can contain datetime information or a stop time qualifier code, such as AFTER, NET, UFN, etc.',
                              },
                              timeMode: {
                                type: 'string',
                                description:
                                  'The airspace time code associated with the ACO. Can be DISCRETE, a fixed time block, or INTERVAL, a repeating time block.',
                              },
                              timeStart: {
                                type: 'string',
                                description:
                                  'The start time designating that the airspace control order is active.',
                              },
                            },
                            required: [],
                          },
                        },
                        bearing0: {
                          type: 'number',
                          description:
                            'A bearing measured from true North, in angular degrees. If cmShape is set to "POLYARC" or "RADARC", this field is required and is mapped to the "beginning" radial bearing parameter.',
                        },
                        bearing1: {
                          type: 'number',
                          description:
                            'A bearing measured from true North, in angular degrees. If cmShape is set to "POLYARC" or "RADARC", this field is required and is mapped to the "ending" radial bearing parameter.',
                        },
                        cmId: {
                          type: 'string',
                          description: 'Airspace control means name or designator.',
                        },
                        cmShape: {
                          type: 'string',
                          description:
                            'Designates the geometric type that defines the airspace shape. One of CIRCLE, CORRIDOR, LINE, ORBIT, etc.',
                          enum: [
                            'POLYARC',
                            '1TRACK',
                            'POLYGON',
                            'CIRCLE',
                            'CORRIDOR',
                            'APOINT',
                            'AORBIT',
                            'GEOLINE',
                          ],
                        },
                        cmType: {
                          type: 'string',
                          description: 'The code for the type of airspace control means.',
                        },
                        cntrlAuth: {
                          type: 'string',
                          description:
                            'The commander responsible within a specified geographical area for the airspace control operation assigned to him.',
                        },
                        cntrlAuthFreqs: {
                          type: 'array',
                          description:
                            'The frequency for the airspace control authority. Can specify HZ, KHZ, MHZ, GHZ or a DESIG frequency designator code.',
                          items: {
                            type: 'string',
                          },
                        },
                        coord0: {
                          type: 'string',
                          description:
                            'A geospatial point coordinate specified in DMS (Degrees, Minutes, Seconds) format. The fields coord0 and coord1 should be used in the specification of any airspace control shape that requires exactly one (1) or two (2) reference points for construction. For shapes requiring one reference point, for instance, when cmShape is set to "APOINT", this field is required and singularly defines the shape. Similarly, this field is required to define the center point of a "CIRCLE" shape, or the "origin of bearing" for arcs.',
                        },
                        coord1: {
                          type: 'string',
                          description:
                            'A geospatial point coordinate specified in DMS (Degrees, Minutes, Seconds) format. The fields coord0 and coord1 should be used in the specification of any airspace control shape that requires exactly one (1) or two (2) reference points for construction. For shapes requiring one reference point, for instance, when cmShape is set to "APOINT", this field is required and singularly defines the shape. Similarly, this field is required to define the center point of a "CIRCLE" shape, or the "origin of bearing" for arcs.',
                        },
                        corrWayPoints: {
                          type: 'array',
                          description:
                            'An array of at least two alphanumeric symbols used to serially identify the corridor waypoints. If cmShape is set to "CORRIDOR", one of either corrWayPoints or polyCoord is required to specify the centerline of the corridor path.',
                          items: {
                            type: 'string',
                          },
                        },
                        effVDim: {
                          type: 'string',
                          description: 'Description of the airspace vertical dimension.',
                        },
                        freeText: {
                          type: 'string',
                          description:
                            'General informat detailing the transit instruction for the airspace control means.',
                        },
                        genTextInd: {
                          type: 'string',
                          description: 'Used to provide transit instructions for the airspace control means.',
                        },
                        geoDatumAlt: {
                          type: 'string',
                          description:
                            'Specifies the geodetic datum by which the spatial coordinates of the controlled airspace are calculated, if different from the top level ACO datum.',
                        },
                        link16Id: {
                          type: 'string',
                          description: 'Unique Link 16 identifier assigned to the airspace control means.',
                        },
                        orbitAlignment: {
                          type: 'string',
                          description: 'Orbit alignment look-up code. Can be C=Center, L=Left, R=Right.',
                        },
                        polyCoord: {
                          type: 'array',
                          description:
                            'A set of geospatial coordinates specified in DMS (Degrees, Minutes, Seconds) format which determine the vertices of a one or two dimensional geospatial shape. When cmShape is set to "POLYARC" or "POLYGON", this field is required as applied in the construction of the area boundary. If cmShape is set to "CORRIDOR" or "GEOLINE", this field is required and can be interpreted as an ordered set of points along a path in space.',
                          items: {
                            type: 'string',
                          },
                        },
                        radMag0: {
                          type: 'number',
                          description:
                            'A distance that represents a radial magnitude. If cmShape is set to "CIRCLE" or "POLYARC", one of either fields radMag0 or radMag1 is required. If cmShape is set to "RADARC", this field is required and maps to the "inner" radial magnitude arc limit. If provided, the field radMagUnit is required.',
                        },
                        radMag1: {
                          type: 'number',
                          description:
                            'A distance that represents a radial magnitude. If cmShape is set to "CIRCLE" or "POLYARC", one of either fields radMag0 or radMag1 is required. If cmShape is set to "RADARC", this field is required and maps to the "outer" radial magnitude arc limit. If provided, the field radMagUnit is required.',
                        },
                        radMagUnit: {
                          type: 'string',
                          description:
                            'Specifies the unit of length in which radial magnitudes are given. Use M for meters, KM for kilometers, or NM for nautical miles.',
                        },
                        trackLeg: {
                          type: 'integer',
                          description:
                            'Index of a segment in an airtrack, which is defined by an ordered set of points.',
                        },
                        transAltitude: {
                          type: 'string',
                          description:
                            'The altitude at or below which the vertical position of an aircraft is controlled by reference to true altitude.',
                        },
                        usage: {
                          type: 'string',
                          description:
                            'Designates the means by which a defined airspace control means is to be used.',
                        },
                        width: {
                          type: 'number',
                          description:
                            'Used to describe the "side to side" distance of a target, object or area. If cmShape is set to "CORRIDOR" or "AORBIT", this field is required and is mapped to the width parameter. If provided, the field widthUnit is required.',
                        },
                        widthLeft: {
                          type: 'number',
                          description:
                            'Given an ordered pair of spatial coordinates (p0, p1), defines a distance extending into the LEFT half-plane relative to the direction of the vector that maps p0 to p1. If cmShape is set to "1TRACK", this field is required to define the width of the airspace track as measured from the left of the track segment line. If provided, the field widthUnit is required.',
                        },
                        widthRight: {
                          type: 'number',
                          description:
                            'Given an ordered pair of spatial coordinates (p0, p1), defines a distance extending into the RIGHT half-plane relative to the direction of the vector that maps p0 to p1. If cmShape is set to "1TRACK", this field is required to define the width of the airspace track as measured from the right of the track segment line. If provided, the field widthUnit is required.',
                        },
                        widthUnit: {
                          type: 'string',
                          description:
                            'Specifies the unit of length for which widths are given. Use M for meters, KM for kilometers, or NM for nautical miles.',
                        },
                      },
                      required: [],
                    },
                  },
                  cmStat: {
                    type: 'string',
                    description: 'Status of Airspace Control Means. Must be ADD, CHANGE, or DELETE.',
                  },
                  cmStatId: {
                    type: 'array',
                    description:
                      'Airspace control means name or designator. Mandatory if acmStat equals "DELETE," otherwise this field is prohibited.',
                    items: {
                      type: 'string',
                    },
                  },
                },
                required: [],
              },
            },
            airspaceControlOrderReferences: {
              type: 'array',
              description:
                'The airspaceControlReferences set provides both USMTF and non-USMTF references for this airspace control order.',
              items: {
                type: 'object',
                description:
                  'The airspaceControlReferences set provides both USMTF and non-USMTF references for this airspace control order.',
                properties: {
                  refOriginator: {
                    type: 'string',
                    description: 'The originator of this reference.',
                  },
                  refSerialNum: {
                    type: 'string',
                    description: 'The reference serial number.',
                  },
                  refSICs: {
                    type: 'array',
                    description:
                      'Array of NATO Subject Indicator Codes (SIC) or filing numbers of the document being referenced.',
                    items: {
                      type: 'string',
                    },
                  },
                  refSId: {
                    type: 'string',
                    description:
                      'Specifies an alphabetic serial number identifying a reference pertaining to this message.',
                  },
                  refSpecialNotation: {
                    type: 'string',
                    description:
                      'Indicates any special actions, restrictions, guidance, or information relating to this reference.',
                  },
                  refTs: {
                    type: 'string',
                    description:
                      'Timestamp of the referenced message, in ISO 8601 UTC format with millisecond precision.',
                    format: 'date-time',
                  },
                  refType: {
                    type: 'string',
                    description: 'Specifies the type for this reference.',
                  },
                },
                required: [],
              },
            },
            areaOfValidity: {
              type: 'string',
              description: 'Name of the area of the command for which the ACO is valid.',
            },
            classReasons: {
              type: 'array',
              description:
                'Mandatory if classSource uses the "IORIG" designator. Must be a REASON FOR CLASSIFICATION code.',
              items: {
                type: 'string',
              },
            },
            classSource: {
              type: 'string',
              description:
                'Markings defining the source material or the original classification authority for the ACO message.',
            },
            createdAt: {
              type: 'string',
              description: 'Time the row was created in the database, auto-populated by the system.',
              format: 'date-time',
            },
            createdBy: {
              type: 'string',
              description:
                'Application user who created the row in the database, auto-populated by the system.',
            },
            declassExemptionCodes: {
              type: 'array',
              description:
                'Coded entries that provide justification for exemption from automatic downgrading or declassification of the airspace control order.',
              items: {
                type: 'string',
              },
            },
            downgradeInsDates: {
              type: 'array',
              description:
                'Markings providing the literal guidance or date for downgrading or declassifying the airspace control order.',
              items: {
                type: 'string',
              },
            },
            geoDatum: {
              type: 'string',
              description:
                'Specifies the geodetic datum by which the spatial coordinates of the controlled airspace are calculated.',
            },
            month: {
              type: 'string',
              description: 'The month in which the message originated.',
            },
            opExInfo: {
              type: 'string',
              description:
                'Supplementary name that can be used to further identify exercise nicknames, or to provide the primary nickname of the option or the alternative of an operational plan.',
            },
            opExInfoAlt: {
              type: 'string',
              description:
                'The secondary supplementary nickname of the option or the alternative of the operational plan or order.',
            },
            origin: {
              type: 'string',
              description:
                'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
            },
            origNetwork: {
              type: 'string',
              description:
                'The originating source network on which this record was created, auto-populated by the system.',
            },
            planOrigNum: {
              type: 'string',
              description:
                'The official identifier of the military establishment responsible for the operation plan and the identification number assigned to this plan.',
            },
            qualifier: {
              type: 'string',
              description: 'The qualifier which caveats the message status.',
            },
            qualSN: {
              type: 'integer',
              description: 'The serial number associated with the message qualifier.',
            },
            rawFileURI: {
              type: 'string',
              description:
                'Optional URI location in the document repository of the raw file parsed by the system to produce this record. To download the raw file, prepend https://udl-hostname/scs/download?id= to this value.',
            },
            serialNum: {
              type: 'string',
              description: 'The unique message identifier sequentially assigned by the originator.',
            },
            sourceDL: {
              type: 'string',
              description:
                'The source data library from which this record was received. This could be a remote or tactical UDL or another data library. If null, the record should be assumed to have originated from the primary Enterprise UDL.',
            },
            stopQualifier: {
              type: 'string',
              description:
                'A qualifier for the end of the effective time period of this airspace control order, such as AFTER, ASOF, NLT, etc. Used with field stopTime to indicate a relative time.',
            },
            stopTime: {
              type: 'string',
              description:
                'The end of the effective time period of this airspace control order, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            undLnkTrks: {
              type: 'array',
              description:
                'Array of unique link 16 identifiers that will be assigned to a future airspace control means.',
              items: {
                type: 'string',
              },
            },
          },
          required: ['classificationMarking', 'dataMode', 'opExName', 'originator', 'source', 'startTime'],
        },
      },
    },
  },
};

export const handler = async (client: Unifieddatalibrary, args: Record<string, unknown> | undefined) => {
  const body = args as any;
  const response = await client.airspaceControlOrders.createBulk(body).asResponse();
  return asTextContentResult(await response.text());
};

export default { metadata, tool, handler };
