// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { asTextContentResult } from 'unified-data-library-mcp/tools/types';

import { Tool } from '@modelcontextprotocol/sdk/types.js';
import type { Metadata } from '../';
import Unifieddatalibrary from 'unified-data-library';

export const metadata: Metadata = {
  resource: 'weather_report',
  operation: 'write',
  tags: [],
  httpMethod: 'post',
  httpPath: '/filedrop/udl-weatherreport',
  operationId: 'filedrop_weatherreport_post_id',
};

export const tool: Tool = {
  name: 'unvalidated_publish_weather_report',
  description:
    'Service operation to take a list of WeatherReports as a POST body and ingest into the database. This operation is intended to be used for automated feeds into UDL. A specific role is required to perform this service operation. Please contact the UDL team for assistance.\n',
  inputSchema: {
    type: 'object',
    properties: {
      body: {
        type: 'array',
        items: {
          type: 'object',
          description:
            'These services provide for posting and querying Weather Over Target information. The information contained within describes the current weather conditions over a target area or region to include navigational considerations such as altimeter settings, visibility, cloud heights etc.',
          properties: {
            classificationMarking: {
              type: 'string',
              description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
            },
            dataMode: {
              type: 'string',
              description:
                'Indicator of whether the data is EXERCISE, REAL, SIMULATED, or TEST data:\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.',
              enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
            },
            lat: {
              type: 'number',
              description:
                'The central WGS-84 latitude of the weather report, in degrees. -90 to 90 degrees (negative values south of equator).',
            },
            lon: {
              type: 'number',
              description:
                'The central WGS-84 longitude of the weather report, in degrees. -180 to 180 degrees (negative values west of Prime Meridian).',
            },
            obTime: {
              type: 'string',
              description:
                'Datetime when a weather observation was made or forecast was issued in ISO 8601 UTC datetime format with microsecond precision.',
              format: 'date-time',
            },
            reportType: {
              type: 'string',
              description: 'Identifies the type of weather report (e.g. OBSERVATION, FORECAST, etc.).',
            },
            source: {
              type: 'string',
              description: 'Source of the data.',
            },
            id: {
              type: 'string',
              description: 'Unique identifier of the record, auto-generated by the system.',
            },
            actWeather: {
              type: 'string',
              description:
                'Describes the actual weather at position. Intended as, but not constrained to, MIL-STD-6016 actual weather (e.g. NO STATEMENT, NO SIGNIFICANT WEATHER, DRIZZLE, RAIN, SNOW, SNOW GRAINS, DIAMOND DUST, ICE PELLETS, HAIL, SMALL HAIL, MIST, FOG, SMOKE, VOLCANIC ASH, WIDESPREAD DUST, SAND, HAZE, WELL DEVELOPED DUST, SQUALLS, FUNNEL CLOUDS, SANDSTORM, DUSTSTORM, LOW CLOUDS, CLOUDY, GROUND FOG, DUST, HEAVY RAIN, THUNDERSTORMS AWT, HEAVY THUNDERSTORMS, HURRICANE TYPHOON CYCLONE, TROPICAL STORM, TORNADO, HIGH WINDS, LIGHTNING, FREEZING DRIZZLE, FREEZING RAIN, HEAVY SNOW, ICING, SNOW OR RAIN AND SNOW MIXED, SHOWERS, CLEAR).',
            },
            agjson: {
              type: 'string',
              description:
                "Geographical region or polygon (lat/lon pairs), as depicted by the GeoJSON representation of the geometry/geography, of the image as projected on the ground. GeoJSON Reference: https://geojson.org/. Ignored if included with a POST or PUT request that also specifies a valid 'area' or 'atext' field.",
            },
            alt: {
              type: 'number',
              description: 'Point height above ellipsoid (WGS-84), in meters.',
            },
            andims: {
              type: 'integer',
              description: 'Number of dimensions of the geometry depicted by region.',
            },
            area: {
              type: 'string',
              description:
                'Optional geographical region or polygon (lat/lon pairs) of the area surrounding the point of interest as projected on the ground.',
            },
            asrid: {
              type: 'integer',
              description: 'Geographical spatial_ref_sys for region.',
            },
            atext: {
              type: 'string',
              description:
                "Geographical region or polygon (lon/lat pairs), as depicted by the Well-Known Text representation of the geometry/geography, of the image as projected on the ground. WKT reference: https://www.opengeospatial.org/standards/wkt-crs. Ignored if included with a POST or PUT request that also specifies a valid 'area' field.",
            },
            atype: {
              type: 'string',
              description: 'Type of region as projected on the ground.',
            },
            barPress: {
              type: 'number',
              description: 'The measurement of air pressure in the atmosphere in kilopascals.',
            },
            ccEvent: {
              type: 'boolean',
              description: 'Flag indicating detection of a cloud-to-cloud lightning event.',
            },
            cloudCover: {
              type: 'array',
              description:
                'Array of cloud cover descriptions - each element can be maximum of 16 characters long. Intended as, but not constrained to, MIL-STD-6016 cloud cover designations (e.g. SKY CLEAR, SCATTERED, BROKEN, OVERCAST, SKY OBSCURED). Each element of the array corresponds to the elements in the cloudHght array specified respectively.',
              items: {
                type: 'string',
              },
            },
            cloudHght: {
              type: 'array',
              description:
                'Array of cloud base heights in meters described by the cloudHght array. Each element of the array corresponds to the elements in the cloudCover array specified respectively.',
              items: {
                type: 'number',
              },
            },
            contrailHghtLower: {
              type: 'number',
              description: 'Reports the lowest altitude at which contrails are occurring, in meters.',
            },
            contrailHghtUpper: {
              type: 'number',
              description: 'Reports the highest altitude at which contrails are occurring, in meters.',
            },
            createdAt: {
              type: 'string',
              description: 'Time the row was created in the database.',
              format: 'date-time',
            },
            createdBy: {
              type: 'string',
              description: 'Application user who created the row in the database.',
            },
            dataLevel: {
              type: 'string',
              description:
                'Specific pressures or heights where measurements are taken, labeled as either MANDATORY or SIGNIFICANT levels. Mandatory levels are at particular pressures at geopotential heights. Significant levels are at particular geometric heights.',
            },
            dewPoint: {
              type: 'number',
              description: 'The temperature at which air is saturated with water vapor, in degrees C.',
            },
            difRad: {
              type: 'number',
              description:
                "The amount of radiation that reaches earth's surface after being scattered by the atmosphere, in Watts per square meter.",
            },
            dirDev: {
              type: 'number',
              description: 'The difference in wind direction recorded over a period of time, in degrees.',
            },
            enRouteWeather: {
              type: 'string',
              description:
                'Describes the flight conditions in route to the target  (NO STATEMENT, MAINLY IFR, MAINLY VFR, THUNDERSTORMS).\n\nMAINLY IFR:&nbsp;&nbsp;Predominantly Instrument Flight Rules.\n\nMAINLY VFR:&nbsp;&nbsp;Predominantly Visual Flight Rules.\n\nTHUNDERSTORMS:&nbsp;&nbsp;Thunderstorms expected in route.\n\n',
            },
            externalId: {
              type: 'string',
              description:
                'Optional observation or forecast ID from external systems. This field has no meaning within UDL and is provided as a convenience for systems that require tracking of an internal system generated ID.',
            },
            externalLocationId: {
              type: 'string',
              description:
                'Optional location ID from external systems. This field has no meaning within UDL and is provided as a convenience for systems that require tracking of an internal system generated ID.',
            },
            forecastEndTime: {
              type: 'string',
              description:
                'Valid end time of a weather forecast in ISO 8601 UTC datetime format with millisecond precision.',
              format: 'date-time',
            },
            forecastStartTime: {
              type: 'string',
              description:
                'Valid start time of a weather forecast in ISO 8601 UTC datetime format with millisecond precision.',
              format: 'date-time',
            },
            geoPotentialAlt: {
              type: 'number',
              description:
                'Altitude of a pressure surface in the atmosphere above mean sea level, in meters.',
            },
            hshear: {
              type: 'number',
              description:
                'The change in wind speed between two different lateral positions at a given altitude divided by the horizontal distance between them, in units of 1/sec.',
            },
            icao: {
              type: 'string',
              description:
                'The International Civil Aviation Organization (ICAO) code of the airfield associated with this weather report.',
            },
            icingLowerLimit: {
              type: 'number',
              description:
                'Reports the lowest altitude at which icing or freezing rain is occurring, in meters.',
            },
            icingUpperLimit: {
              type: 'number',
              description:
                'Reports the highest altitude at which icing or freezing rain is occurring, in meters.',
            },
            idAirfield: {
              type: 'string',
              description: 'Identifier of the Airfield associated with this weather report.',
            },
            idGroundImagery: {
              type: 'string',
              description: 'Identifier of the ground imagery associated for this weather over target report.',
            },
            idSensor: {
              type: 'string',
              description: 'Unique identifier of the sensor making the weather measurement.',
            },
            idSite: {
              type: 'string',
              description: 'Identifier of the Site that is associated with this weather report.',
            },
            indexRefraction: {
              type: 'number',
              description: 'An indication of how much the atmosphere refracts light.',
            },
            origin: {
              type: 'string',
              description:
                'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
            },
            origNetwork: {
              type: 'string',
              description:
                'The originating source network on which this record was created, auto-populated by the system.',
            },
            origSensorId: {
              type: 'string',
              description:
                'Optional identifier provided by the record source. This may be an internal identifier and not necessarily a valid sensor ID.',
            },
            precipRate: {
              type: 'number',
              description:
                'The speed at which water is being applied to a specific area in millimeters per hour.',
            },
            qnh: {
              type: 'number',
              description: 'Altimeter set to read zero at mean sea level in kilopascals.',
            },
            radVel: {
              type: 'number',
              description:
                "Average radial velocity of wind as measured by radar with multi-beam configurations. Radial velocity is the component of wind velocity moving directly toward or away from a sensor's radar beam, in meters per second. Values can either be positive (wind is moving away from the radar) or negative (wind is moving toward the radar).",
            },
            radVelBeam1: {
              type: 'number',
              description:
                'Component of wind velocity moving directly toward or away from radar beam 1, in meters per second. Radial velocity values can either be positive (wind is moving away from the radar) or negative (wind is moving toward the radar). The beam number designation is defined by the data source.',
            },
            radVelBeam2: {
              type: 'number',
              description:
                'Component of wind velocity moving directly toward or away from radar beam 2, in meters per second. Radial velocity values can either be positive (wind is moving away from the radar) or negative (wind is moving toward the radar). The beam number designation is defined by the data source.',
            },
            radVelBeam3: {
              type: 'number',
              description:
                'Component of wind velocity moving directly toward or away from radar beam 3, in meters per second. Radial velocity values can either be positive (wind is moving away from the radar) or negative (wind is moving toward the radar). The beam number designation is defined by the data source.',
            },
            radVelBeam4: {
              type: 'number',
              description:
                'Component of wind velocity moving directly toward or away from radar beam 4, in meters per second. Radial velocity values can either be positive (wind is moving away from the radar) or negative (wind is moving toward the radar). The beam number designation is defined by the data source.',
            },
            radVelBeam5: {
              type: 'number',
              description:
                'Component of wind velocity moving directly toward or away from radar beam 5, in meters per second. Radial velocity values can either be positive (wind is moving away from the radar) or negative (wind is moving toward the radar). The beam number designation is defined by the data source.',
            },
            rainHour: {
              type: 'number',
              description: 'The amount of rain that has fallen in the past hour, in centimeters.',
            },
            rawMETAR: {
              type: 'string',
              description: 'The Raw Meteorological Aerodrome Report (METAR) string.',
            },
            rawTAF: {
              type: 'string',
              description:
                'Terminal Aerodrome Forecast (TAF) containing detailed weather predictions for a specific airport or aerodrome.',
            },
            refRad: {
              type: 'number',
              description:
                'The amount of radiation that changes direction as a function of atmospheric density, in Watts per square meter.',
            },
            relHumidity: {
              type: 'number',
              description: 'The percentage of water vapor in the atmosphere.',
            },
            senalt: {
              type: 'number',
              description:
                'Sensor altitude at obTime in km. This includes pilot reports or other means of weather observation.',
            },
            senlat: {
              type: 'number',
              description:
                'Sensor WGS84 latitude at obTime in degrees. -90 to 90 degrees (negative values south of equator). This includes pilot reports or other means of weather observation.',
            },
            senlon: {
              type: 'number',
              description:
                'Sensor WGS84 longitude at obTime in degrees. -180 to 180 degrees (negative values west of Prime Meridian). This includes pilot reports or other means of weather observation.',
            },
            soilMoisture: {
              type: 'number',
              description: 'The volumetric percentage of soil water contained in a given volume of soil.',
            },
            soilTemp: {
              type: 'number',
              description: 'The measurement of soil temperature in degrees C.',
            },
            solarRad: {
              type: 'number',
              description:
                'The power per unit area received from the Sun in the form of electromagnetic radiation as measured in the wavelength range of the measuring instrument. The solar irradiance is measured in watt per square meter (W/m2).',
            },
            srcIds: {
              type: 'array',
              description:
                "Array of UUID(s) of the UDL data record(s) that are related to this WeatherReport record. See the associated 'srcTyps' array for the specific types of data, positionally corresponding to the UUIDs in this array. The 'srcTyps' and 'srcIds' arrays must match in size. See the corresponding srcTyps array element for the data type of the UUID and use the appropriate API operation to retrieve that object.",
              items: {
                type: 'string',
              },
            },
            srcTyps: {
              type: 'array',
              description:
                "Array of UDL record types (SENSOR, WEATHERDATA) that are related to this WeatherReport record. See the associated 'srcIds' array for the record UUIDs, positionally corresponding to the record types in this array. The 'srcTyps' and 'srcIds' arrays must match in size.",
              items: {
                type: 'string',
              },
            },
            surroundingWeather: {
              type: 'string',
              description:
                'Describes in which direction (if any) that better weather conditions exist. Intended as, but not constrained to, MIL-STD-6016 surrounding weather designations (e.g. NO STATEMENT, BETTER TO NORTH, BETTER TO EAST, BETTER TO SOUTH, BETTER TO WEST).',
            },
            temperature: {
              type: 'number',
              description: 'The measurement of air temperature in degrees C.',
            },
            visibility: {
              type: 'number',
              description: 'Visual distance in meters.',
            },
            vshear: {
              type: 'number',
              description:
                'The change in wind speed between two different altitudes divided by the vertical distance between them, in units of 1/sec.',
            },
            weatherAmp: {
              type: 'string',
              description:
                'Amplifies the actual weather being reported. Intended as, but not constrained to, MIL-STD-6016 weather amplification designations (e.g. NO STATEMENT, NO SCATTERED BROKEN MEDIUM CLOUD, SCATTERED BROKEN MEDIUM CLOUDS, GUSTY WINDS AT SERVICE, FOG IN VALLEYS, HIGHER TERRAIN OBSCURED, SURFACE CONDITIONS VARIABLE, SURFACE WIND NE, SURFACE WIND SE, SURFACE WIND SW, SURFACE WIND NW, PRESENCE OF CUMULONIMBUS).',
            },
            weatherDesc: {
              type: 'string',
              description:
                'Used in conjunction with actWeather and weatherInt. Intended as, but not constrained to, MIL-STD-6016 actual weather descriptor (e.g. NO STATEMENT, SHALLOW, PATCHES, LOW DRIFTING, BLOWING, SHOWERS, THUNDERSTORMS, SUPERCOOLED).',
            },
            weatherId: {
              type: 'string',
              description:
                'Identifier of the weather over target, which should remain the same on subsequent Weather Over Target records.',
            },
            weatherInt: {
              type: 'string',
              description:
                'Weather Intensity. Used in conjunction with actWeather and weatherDesc. Intended as, but not constrained to, MIL-STD-6016 weather intensity (e.g. NO STATEMENT, LIGHT, MODERATE, HEAVY, IN VICINITY).',
            },
            windChill: {
              type: 'number',
              description: 'The perceived temperature in degrees C.',
            },
            windCov: {
              type: 'array',
              description:
                'Covariance matrix, in knots and second based units.  The array values represent the lower triangular half of the covariance matrix. The size of the covariance matrix is 2x2.  The covariance elements are position dependent within the array with values ordered as follows:\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;y\n\nx&nbsp;&nbsp;&nbsp;&nbsp;1\n\ny&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;3\n\n\nThe cov array should contain only the lower left triangle values from top left down to bottom right, in order.\n\n',
              items: {
                type: 'number',
              },
            },
            windDir: {
              type: 'number',
              description: 'Direction the wind is blowing, in degrees clockwise from true north.',
            },
            windDirAvg: {
              type: 'number',
              description:
                'Average wind direction over a 1 minute period, in degrees clockwise from true north.',
            },
            windDirPeak: {
              type: 'number',
              description:
                'Wind direction corresponding to the peak wind speed during a 1 minute period, in degrees clockwise from true north.',
            },
            windDirPeak10: {
              type: 'number',
              description:
                'Wind direction corresponding to the peak wind speed during a 10 minute period, in degrees clockwise from true north.',
            },
            windGust: {
              type: 'number',
              description: 'Expresses the max gust speed of the wind, in meters/second.',
            },
            windGust10: {
              type: 'number',
              description:
                'Expresses the max gust speed of the wind recorded in a 10 minute period, in meters/second.',
            },
            windSpd: {
              type: 'number',
              description: 'Expresses the speed of the wind in meters/second.',
            },
            windSpdAvg: {
              type: 'number',
              description: 'Average wind speed over a 1 minute period, in meters/second.',
            },
            windVar: {
              type: 'boolean',
              description: 'Boolean describing whether or not the wind direction and/or speed is variable.',
            },
          },
          required: ['classificationMarking', 'dataMode', 'lat', 'lon', 'obTime', 'reportType', 'source'],
        },
      },
    },
  },
};

export const handler = async (client: Unifieddatalibrary, args: Record<string, unknown> | undefined) => {
  const body = args as any;
  await client.weatherReport.unvalidatedPublish(body);
  return asTextContentResult('Successful tool call');
};

export default { metadata, tool, handler };
