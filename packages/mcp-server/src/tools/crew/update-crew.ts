// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { Metadata, asTextContentResult } from 'unified-data-library-mcp/tools/types';

import { Tool } from '@modelcontextprotocol/sdk/types.js';
import Unifieddatalibrary from 'unified-data-library';

export const metadata: Metadata = {
  resource: 'crew',
  operation: 'write',
  tags: [],
  httpMethod: 'put',
  httpPath: '/udl/crew/{id}',
};

export const tool: Tool = {
  name: 'update_crew',
  description:
    'Service operation to update a single Crew record. A specific role is required to perform this service operation. Please contact the UDL team for assistance.',
  inputSchema: {
    type: 'object',
    properties: {
      path_id: {
        type: 'string',
      },
      classificationMarking: {
        type: 'string',
        description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
      },
      dataMode: {
        type: 'string',
        description:
          'Indicator of whether the data is REAL, TEST, EXERCISE, or SIMULATED data:\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.',
        enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
      },
      origCrewId: {
        type: 'string',
        description:
          'Unique identifier of the formed crew provided by the originating source. Provided for systems that require tracking of an internal system generated ID.',
      },
      source: {
        type: 'string',
        description: 'Source of the data.',
      },
      body_id: {
        type: 'string',
        description: 'Unique identifier of the record, auto-generated by the system.',
      },
      adjReturnTime: {
        type: 'string',
        description: 'Adjusted return time, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      adjReturnTimeApprover: {
        type: 'string',
        description: 'Last name of the adjusted return time approver.',
      },
      aircraftMDS: {
        type: 'string',
        description: 'The aircraft Model Design Series designation assigned for this crew.',
      },
      alertedTime: {
        type: 'string',
        description: 'Time the crew was alerted, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      alertType: {
        type: 'string',
        description:
          'Type of alert for the crew (e.g., ALPHA for maximum readiness, BRAVO for standby, etc.).',
      },
      armsCrewUnit: {
        type: 'string',
        description:
          "The crew's Aviation Resource Management System (ARMS) unit.  If multiple units exist, use the Aircraft Commander's Unit.",
      },
      assignedQualCode: {
        type: 'array',
        description:
          'Array of qualification codes assigned to this crew (e.g., AL for Aircraft Leader, CS for Combat Systems Operator, etc.).',
        items: {
          type: 'string',
        },
      },
      commanderId: {
        type: 'string',
        description: 'Unique identifier of the crew commander assigned by the originating source.',
      },
      commanderLast4SSN: {
        type: 'string',
        description: "Last four digits of the crew commander's social security number.",
      },
      commanderName: {
        type: 'string',
        description: 'The name of the crew commander.',
      },
      crewHome: {
        type: 'boolean',
        description: 'Flag indicating whether this crew task takes the crew home and out of the stage.',
      },
      crewMembers: {
        type: 'array',
        description: 'CrewMembers Collection.',
        items: {
          type: 'object',
          description: 'Schema for Crew Member data.',
          properties: {
            alerted: {
              type: 'boolean',
              description:
                'Flag indicating whether this crew member has been alerted of the associated task.',
            },
            allSortie: {
              type: 'boolean',
              description:
                'Flag indicating this crew member is assigned to all sorties of the crew itinerary.',
            },
            approved: {
              type: 'boolean',
              description:
                'Flag indicating whether this crew member has been approved for the associated task.',
            },
            attached: {
              type: 'boolean',
              description:
                'Flag indicating whether this crew member is attached to his/her squadron. Crew members that are not attached are considered assigned.',
            },
            branch: {
              type: 'string',
              description: 'The military branch assignment of the crew member.',
            },
            civilian: {
              type: 'boolean',
              description: 'Flag indicating this crew member is a civilian or non-military person.',
            },
            commander: {
              type: 'boolean',
              description: 'Flag indicating this person is the aircraft commander.',
            },
            crewPosition: {
              type: 'string',
              description: 'The crew position of the crew member.',
            },
            dodID: {
              type: 'string',
              description: "The crew member's 10-digit DoD ID number.",
            },
            dutyPosition: {
              type: 'string',
              description: 'The duty position of the crew member.',
            },
            dutyStatus: {
              type: 'string',
              description:
                'The current duty status code of this crew member (e.g., AGR for Active Guard and Reserve, IDT for Inactive Duty Training, etc.).',
            },
            emailed: {
              type: 'boolean',
              description: 'Flag indicating whether this crew member has been notified of an event by email.',
            },
            extraTime: {
              type: 'boolean',
              description:
                'Flag indicating whether this crew member requires an additional amount of time to report for duty.',
            },
            firstName: {
              type: 'string',
              description: 'The first name of the crew member.',
            },
            fltCurrencyExp: {
              type: 'string',
              description:
                'The earliest flying currency expiration date for this crew member, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            fltCurrencyExpId: {
              type: 'string',
              description:
                'The training task identifier associated with the flying currency expiration date for this crew member.',
            },
            fltRecDate: {
              type: 'string',
              description:
                "The date this crew member's records review was completed, in ISO 8601 UTC format with millisecond precision.",
              format: 'date-time',
            },
            fltRecDue: {
              type: 'string',
              description:
                "The date this crew member's records review is due, in ISO 8601 UTC format with millisecond precision.",
              format: 'date-time',
            },
            flySquadron: {
              type: 'string',
              description: 'The flying squadron assignment of the crew member.',
            },
            funded: {
              type: 'boolean',
              description: 'Flag indicating whether this crew member is funded.',
            },
            gender: {
              type: 'string',
              description: 'Gender of the crew member.',
            },
            gndCurrencyExp: {
              type: 'string',
              description:
                'The earliest ground currency expiration date for this crew member, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            gndCurrencyExpId: {
              type: 'string',
              description:
                'The training task identifier associated with the ground currency expiration date for this crew member.',
            },
            grounded: {
              type: 'boolean',
              description:
                'Flag indicating whether this crew member is grounded (i.e., his/her duties do not include flying).',
            },
            guestStart: {
              type: 'string',
              description:
                'Date when this crew member starts acting as guest help for the squadron, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            guestStop: {
              type: 'string',
              description:
                'Date when this crew member stops acting as guest help for the squadron, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            last4SSN: {
              type: 'string',
              description: "Last four digits of the crew member's social security number.",
            },
            lastFltDate: {
              type: 'string',
              description:
                'Date of the last flight for this crew member, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            lastName: {
              type: 'string',
              description: 'The last name of the crew member.',
            },
            loanedTo: {
              type: 'string',
              description: 'The squadron the crew member has been temporarily loaned to.',
            },
            lodging: {
              type: 'string',
              description: 'Crew member lodging location.',
            },
            memberActualAlertTime: {
              type: 'string',
              description:
                'Time this crew member was actually alerted for the mission, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberAdjReturnTime: {
              type: 'string',
              description:
                'Adjusted return time for the crew member, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberAdjReturnTimeApprover: {
              type: 'string',
              description: "Last name of the crew member's adjusted return time approver.",
            },
            memberId: {
              type: 'string',
              description: 'Unique identifier of the crew member assigned by the originating source.',
            },
            memberInitStartTime: {
              type: 'string',
              description:
                "Initial start time of the crew member's linked task that was delinked due to mission closure, in ISO 8601 UTC format with millisecond precision.",
              format: 'date-time',
            },
            memberLastAlertTime: {
              type: 'string',
              description:
                'The latest possible time the crew member can legally be alerted for a task, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberLegalAlertTime: {
              type: 'string',
              description:
                'Time this crew member becomes eligible to be alerted for the mission, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberPickupTime: {
              type: 'string',
              description:
                'Time this crew member will be picked up from lodging, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberPostRestOffset: {
              type: 'string',
              description:
                "The scheduled delay or adjustment in the start time of a crew member's rest period after a mission, expressed as +/-HH:MM.",
            },
            memberPostRestTime: {
              type: 'string',
              description:
                "End time of this crew member's rest period after the mission, in ISO 8601 UTC format with millisecond precision.",
              format: 'date-time',
            },
            memberPreRestTime: {
              type: 'string',
              description:
                "Start time of this crew member's rest period before the mission, in ISO 8601 UTC format with millisecond precision.",
              format: 'date-time',
            },
            memberRemarks: {
              type: 'string',
              description: 'Remarks concerning the crew member.',
            },
            memberReturnTime: {
              type: 'string',
              description:
                'Scheduled return time for this crew member, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberSchedAlertTime: {
              type: 'string',
              description:
                'Time this crew member is scheduled to be alerted for the mission, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            memberSource: {
              type: 'string',
              description:
                'The military component for the crew member (e.g., ACTIVE, RESERVE, GUARD, UNKNOWN, etc.).',
            },
            memberStageName: {
              type: 'string',
              description:
                'Stage name for the crew member.  A stage is a pool of crews supporting a given operation plan.',
            },
            memberTransportReq: {
              type: 'boolean',
              description:
                'Flag indicating whether this crew member needs transportation to the departure location.',
            },
            memberType: {
              type: 'string',
              description:
                'Amplifying details about the crew member type (e.g. RAVEN, FCC, COMCAM, AIRCREW, MEP, OTHER, etc.).',
            },
            middleInitial: {
              type: 'string',
              description: 'The middle initial of the crew member.',
            },
            notified: {
              type: 'boolean',
              description: 'Flag indicating whether this crew member has been notified of an event.',
            },
            phoneNumber: {
              type: 'string',
              description: 'Crew member lodging phone number.',
            },
            physAvCode: {
              type: 'string',
              description:
                "Code indicating a crew member's current physical fitness status and whether they are medically cleared to fly (e.g., D for Duties Not Including Flying, E for Physical Overdue, etc.).",
            },
            physAvStatus: {
              type: 'string',
              description:
                "Code indicating a crew member's physical availabiility status (e.g., DISQUALIFIED, OVERDUE, etc.).",
            },
            physDue: {
              type: 'string',
              description:
                "Due date for the crew member's physical, in ISO 8601 UTC format with millisecond precision.",
              format: 'date-time',
            },
            rank: {
              type: 'string',
              description: 'The rank of the crew member.',
            },
            remarkCode: {
              type: 'string',
              description:
                'Remark code used to designate attributes of this crew member. For more information, contact the provider source.',
            },
            rmsMDS: {
              type: 'string',
              description:
                'The primary aircraft type for the crew member according to the personnel resource management system indicated in the crewRMS field.',
            },
            showTime: {
              type: 'string',
              description:
                'Time this crew member is required to report for duty before this flight/mission, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            squadron: {
              type: 'string',
              description: 'The squadron the crew member serves.',
            },
            trainingDate: {
              type: 'string',
              description:
                'The date this crew member accomplished physiological or altitude chamber training, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            username: {
              type: 'string',
              description: 'The Mattermost username of this crew member.',
            },
            wing: {
              type: 'string',
              description: 'The wing the crew member serves.',
            },
          },
        },
      },
      crewName: {
        type: 'string',
        description: 'Name of the formed crew.',
      },
      crewRMS: {
        type: 'string',
        description: 'The resource management system managing and reporting data on this crew.',
      },
      crewRole: {
        type: 'string',
        description: "The crew's role on the mission (e.g., DEADHEAD, MEDICAL, PRIMARY).",
      },
      crewSource: {
        type: 'string',
        description:
          'The military component that comprises the crew (e.g., ACTIVE, RESERVE, GUARD, MIXED, UNKNOWN, etc.).',
      },
      crewSquadron: {
        type: 'string',
        description: 'The squadron the crew serves.',
      },
      crewType: {
        type: 'string',
        description:
          'The type of crew required to meet mission objectives (e.g., AIRDROP, AIRLAND, AIR REFUELING, etc.).',
      },
      crewUnit: {
        type: 'string',
        description:
          "The crew's squadron as identified in its resource management system. If the crew is composed of members from multiple units, then the Crew Commander's unit should be indicated as the crew unit.",
      },
      crewWing: {
        type: 'string',
        description: 'The wing the crew serves.',
      },
      currentICAO: {
        type: 'string',
        description:
          'The International Civil Aviation Organization (ICAO) code of the airfield at which the crew is currently located.',
      },
      fdpEligType: {
        type: 'string',
        description: 'Crew Flight Duty Period (FDP) eligibility type.',
      },
      fdpType: {
        type: 'string',
        description: 'Flight Duty Period (FDP) type.',
      },
      femaleEnlistedQty: {
        type: 'integer',
        description: 'The number of female enlisted crew members.',
      },
      femaleOfficerQty: {
        type: 'integer',
        description: 'The number of female officer crew members.',
      },
      fltAuthNum: {
        type: 'string',
        description: 'Authorization number used on the flight order.',
      },
      idSiteCurrent: {
        type: 'string',
        description:
          "Unique identifier of the Site at which the crew is currently located. This ID can be used to obtain additional information on a Site using the 'get by ID' operation (e.g. /udl/site/{id}). For example, the Site object with idSite = abc would be queried as /udl/site/abc.",
      },
      idSortie: {
        type: 'string',
        description: 'Unique identifier of the Aircraft Sortie associated with this crew record.',
      },
      initStartTime: {
        type: 'string',
        description:
          "Initial start time of the crew's linked task that was delinked due to mission closure, in ISO 8601 UTC format with millisecond precision.",
        format: 'date-time',
      },
      lastAlertTime: {
        type: 'string',
        description:
          'The last time the crew can be alerted, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      legalAlertTime: {
        type: 'string',
        description: 'Time the crew is legal for alert, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      legalBravoTime: {
        type: 'string',
        description:
          'Time the crew is legally authorized or scheduled to remain on standby for duty, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      linkedTask: {
        type: 'boolean',
        description: 'Flag indicating whether this crew is part of a linked flying task.',
      },
      maleEnlistedQty: {
        type: 'integer',
        description: 'The number of male enlisted crew members.',
      },
      maleOfficerQty: {
        type: 'integer',
        description: 'The number of male officer crew members.',
      },
      missionAlias: {
        type: 'string',
        description: 'User-defined alias designation for the mission.',
      },
      missionId: {
        type: 'string',
        description: 'The mission ID the crew is supporting according to the source system.',
      },
      origin: {
        type: 'string',
        description:
          'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
      },
      personnelType: {
        type: 'string',
        description: 'The type of personnel that comprises the crew (e.g., AIRCREW, MEDCREW, etc.).',
      },
      pickupTime: {
        type: 'string',
        description:
          'Time the crew will be picked up from lodging, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      postRestApplied: {
        type: 'boolean',
        description:
          "Flag indicating whether post-mission crew rest is applied to the last sortie of a crew's task.",
      },
      postRestEnd: {
        type: 'string',
        description:
          'End time of the crew rest period after the mission, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      postRestOffset: {
        type: 'string',
        description:
          "The scheduled delay or adjustment in the start time of a crew's rest period after a mission, expressed as +/-HH:MM.",
      },
      preRestApplied: {
        type: 'boolean',
        description:
          "Flag indicating whether pre-mission crew rest is applied to the first sortie of a crew's task.",
      },
      preRestStart: {
        type: 'string',
        description:
          'Start time of the crew rest period before the mission, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      reqQualCode: {
        type: 'array',
        description:
          'Array of qualification codes required for this crew (e.g., AL for Aircraft Leader, CS for Combat Systems Operator, etc.).',
        items: {
          type: 'string',
        },
      },
      returnTime: {
        type: 'string',
        description: 'Scheduled return time, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      stage1Qual: {
        type: 'string',
        description:
          'The stage 1 qualifications the crew must have for a mission, such as having basic knowledge of crew operations and aircraft systems.',
      },
      stage2Qual: {
        type: 'string',
        description:
          'The stage 2 qualifications the crew must have for a mission, such as completion of advanced mission-specific training.',
      },
      stage3Qual: {
        type: 'string',
        description:
          'The stage 3 qualifications the crew must have for a mission, such as full mission-ready certification and the capability of leading complex operations.',
      },
      stageName: {
        type: 'string',
        description:
          'Stage name for the crew.  A stage is a pool of crews supporting a given operation plan.',
      },
      stageTime: {
        type: 'string',
        description: 'Time the crew entered the stage, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      status: {
        type: 'string',
        description: 'Crew status (e.g. NEEDCREW, ASSIGNED, APPROVED, NOTIFIED, PARTIAL, UNKNOWN, etc.).',
      },
      transportReq: {
        type: 'boolean',
        description:
          'Flag indicating that one or more crew members requires transportation to the departure location.',
      },
      tripKit: {
        type: 'string',
        description:
          'Identifies the trip kit needed by the crew. A trip kit contains charts, regulations, maps, etc. carried by the crew during missions.',
      },
    },
    required: ['path_id', 'classificationMarking', 'dataMode', 'origCrewId', 'source'],
  },
  annotations: {
    idempotentHint: true,
  },
};

export const handler = async (client: Unifieddatalibrary, args: Record<string, unknown> | undefined) => {
  const { id, ...body } = args as any;
  const response = await client.crew.update(id, body).asResponse();
  return asTextContentResult(await response.text());
};

export default { metadata, tool, handler };
