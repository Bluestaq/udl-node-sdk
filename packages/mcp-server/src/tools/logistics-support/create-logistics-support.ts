// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

import { Metadata, asTextContentResult } from 'unified-data-library-mcp/tools/types';

import { Tool } from '@modelcontextprotocol/sdk/types.js';
import Unifieddatalibrary from 'udl-node-sdk';

export const metadata: Metadata = {
  resource: 'logistics_support',
  operation: 'write',
  tags: [],
  httpMethod: 'post',
  httpPath: '/udl/logisticssupport',
};

export const tool: Tool = {
  name: 'create_logistics_support',
  description:
    'Service operation to take a single LogisticsSupport record as a POST body and ingest into the database. A specific role is required to perform this service operation. Please contact the UDL team for assistance.',
  inputSchema: {
    type: 'object',
    properties: {
      classificationMarking: {
        type: 'string',
        description: 'Classification marking of the data in IC/CAPCO Portion-marked format.',
      },
      dataMode: {
        type: 'string',
        description:
          'Indicator of whether the data is EXERCISE, REAL, SIMULATED, or TEST data:\n\nEXERCISE:&nbsp;Data pertaining to a government or military exercise. The data may include both real and simulated data.\n\nREAL:&nbsp;Data collected or produced that pertains to real-world objects, events, and analysis.\n\nSIMULATED:&nbsp;Synthetic data generated by a model to mimic real-world datasets.\n\nTEST:&nbsp;Specific datasets used to evaluate compliance with specifications and requirements, and for validating technical, functional, and performance characteristics.',
        enum: ['REAL', 'TEST', 'SIMULATED', 'EXERCISE'],
      },
      rptCreatedTime: {
        type: 'string',
        description: 'The time this report was created, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      source: {
        type: 'string',
        description: 'Source of the data.',
      },
      id: {
        type: 'string',
        description:
          'Unique identifier of the record, auto-generated by the system if not provided on create operations.',
      },
      aircraftMDS: {
        type: 'string',
        description:
          'The aircraft Model Design Series (MDS) designation (e.g. E-2C HAWKEYE, F-15 EAGLE, KC-130 HERCULES, etc.) of this aircraft. Intended as, but not constrained to, MIL-STD-6016 environment dependent specific type designations.',
      },
      currICAO: {
        type: 'string',
        description:
          'The current ICAO of the aircraft that is the subject of this LogisticsSupportDetails record.',
      },
      etic: {
        type: 'string',
        description:
          'The estimated time mission capable for the aircraft, in ISO 8601 UCT format with millisecond precision. This is the estimated time when the aircraft is mission ready.',
        format: 'date-time',
      },
      etmc: {
        type: 'string',
        description: 'Logistics estimated time mission capable.',
        format: 'date-time',
      },
      extSystemId: {
        type: 'string',
        description:
          'Optional system identifier from external systs. This field has no meaning within UDL and is provided as a convenience for systems that require tracking of an internal system generated ID.',
      },
      logisticAction: {
        type: 'string',
        description:
          'This field identifies the pacing event for bringing the aircraft to Mission Capable status.  It is used in calculating the Estimated Time Mission Capable (ETMC) value.  Acceptable values are WA (Will Advise), INW (In Work), P+hhh.h (where P=parts and hhh.h is the number of hours up to 999 plus tenths of hours), EQ+hhh.h (EQ=equipment), MRT+hhh.h (MRT=maintenance recovery team).',
      },
      logisticsDiscrepancyInfos: {
        type: 'array',
        description: 'Discrepancy information associated with this LogisticsSupport record.',
        items: {
          type: 'object',
          description: 'Discrepancy information associated with this LogisticsSupport record.',
          properties: {
            closureTime: {
              type: 'string',
              description: 'The discrepancy closure time, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            discrepancyInfo: {
              type: 'string',
              description: 'The aircraft discrepancy description.',
            },
            jcn: {
              type: 'string',
              description: 'Job Control Number of the discrepancy.',
            },
            jobStTime: {
              type: 'string',
              description: 'The job start time, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
          },
        },
      },
      logisticsRecordId: {
        type: 'string',
        description: 'The identifier that represents a Logistics Master Record.',
      },
      logisticsRemarks: {
        type: 'array',
        description: 'Remarks associated with this LogisticsSupport record.',
        items: {
          type: 'object',
          description: 'Remarks associated with this LogisticsSupport record.',
          properties: {
            lastChanged: {
              type: 'string',
              description:
                'Date the remark was published or updated, in ISO 8601 UTC format, with millisecond precision.',
              format: 'date-time',
            },
            remark: {
              type: 'string',
              description: 'Text of the remark.',
            },
            username: {
              type: 'string',
              description: 'User who published the remark.',
            },
          },
        },
      },
      logisticsSupportItems: {
        type: 'array',
        description: 'Support items associated with this LogisticsSupport record.',
        items: {
          type: 'object',
          description: 'Support items associated with this LogisticsSupport record.',
          properties: {
            cannibalized: {
              type: 'boolean',
              description:
                'This element indicates whether or not the supplied item is contained within another item.',
            },
            deployPlanNumber: {
              type: 'string',
              description:
                'System generated reference id for the transportation plan.  Format: TXXXXXNNNN  T - Transportation, Sequence Number, Node Id.',
            },
            description: {
              type: 'string',
              description: 'The technical order name of the part ordered.',
            },
            itemLastChangedDate: {
              type: 'string',
              description:
                'The last time this supported item was updated, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            jobControlNumber: {
              type: 'string',
              description:
                'A number assigned by Job Control to monitor and record maintenance actions required to correct the associated aircraft maintenance discrepancy.  It is seven, nine or twelve characters, depending on the base-specific numbering scheme.  If seven characters: characters 1-3 are Julian date, 4-7 are sequence numbers.  If nine characters: characters 1-2 are last two digits of the year, characters 3-5 are Julian date, 6-9 are sequence numbers.  If twelve characters: characters 1-2 are last two digits of the year, 3-5 are Julian date, 6-9 are sequence numbers, and 10-12 are a three-digit supplemental number.',
            },
            logisticsParts: {
              type: 'array',
              description: 'The parts associated with this support item.',
              items: {
                type: 'object',
                description: 'The parts associated with this support item.',
                properties: {
                  figureNumber: {
                    type: 'string',
                    description: 'Technical order manual figure number for the requested / supplied part.',
                  },
                  indexNumber: {
                    type: 'string',
                    description: 'Technical order manual index number for the requested part.',
                  },
                  locationVerifier: {
                    type: 'string',
                    description:
                      'The person who validated that the sourced location has, and can supply, the requested parts.',
                  },
                  logisticsStocks: {
                    type: 'array',
                    description: 'The supply stocks for this support item.',
                    items: {
                      type: 'object',
                      description: 'The supply stocks for this support item.',
                      properties: {
                        quantity: {
                          type: 'integer',
                          description: 'The quantity of available parts needed from sourceICAO.',
                        },
                        sourceICAO: {
                          type: 'string',
                          description: 'The ICAO code for the primary location with available parts.',
                        },
                        stockCheckTime: {
                          type: 'string',
                          description:
                            'The datetime when the parts were sourced, in ISO 8601 UTC format with millisecond precision.',
                          format: 'date-time',
                        },
                        stockPOC: {
                          type: 'string',
                          description: 'The point of contact at the sourced location.',
                        },
                      },
                    },
                  },
                  measurementUnitCode: {
                    type: 'string',
                    description: 'Code for a unit of measurement.',
                  },
                  nationalStockNumber: {
                    type: 'string',
                    description: 'The National Stock Number of the part being requested or supplied.',
                  },
                  partNumber: {
                    type: 'string',
                    description: 'Requested or supplied part number.',
                  },
                  requestVerifier: {
                    type: 'string',
                    description: 'The person who validated the request for parts.',
                  },
                  supplyDocumentNumber: {
                    type: 'string',
                    description: 'The supply document number.',
                  },
                  technicalOrderText: {
                    type: 'string',
                    description:
                      'Indicates the specified Technical Order manual holding the aircraft information for use in diagnosing a problem or condition.',
                  },
                  workUnitCode: {
                    type: 'string',
                    description:
                      'Work Unit Code (WUC), or for some aircraft types, the Reference Designator.',
                  },
                },
              },
            },
            logisticsRemarks: {
              type: 'array',
              description: 'Remarks associated with this support item.',
              items: {
                type: 'object',
                description: 'Remarks associated with this LogisticsSupport record.',
                properties: {
                  lastChanged: {
                    type: 'string',
                    description:
                      'Date the remark was published or updated, in ISO 8601 UTC format, with millisecond precision.',
                    format: 'date-time',
                  },
                  remark: {
                    type: 'string',
                    description: 'Text of the remark.',
                  },
                  username: {
                    type: 'string',
                    description: 'User who published the remark.',
                  },
                },
              },
            },
            logisticsSpecialties: {
              type: 'array',
              description: 'The specialties required to implement this support item.',
              items: {
                type: 'object',
                description: 'The specialties required to implement this support item.',
                properties: {
                  firstName: {
                    type: 'string',
                    description: 'The first name of the specialist.',
                  },
                  last4Ssn: {
                    type: 'string',
                    description: "The last four digits of the specialist's social security number.",
                  },
                  lastName: {
                    type: 'string',
                    description: 'The last name of the specialist.',
                  },
                  rankCode: {
                    type: 'string',
                    description: 'Military service rank designation.',
                  },
                  roleTypeCode: {
                    type: 'string',
                    description:
                      'Type code that determines role of the mission response team member. TC - Team Chief, TM - Team Member.',
                  },
                  skillLevel: {
                    type: 'integer',
                    description: 'Skill level of the mission response team member.',
                  },
                  specialty: {
                    type: 'string',
                    description:
                      'Indicates where the repairs will be performed, or which shop specialty has been assigned responsibility for correcting the discrepancy. Shop specialties are normally listed in abbreviated format.',
                  },
                },
              },
            },
            quantity: {
              type: 'integer',
              description:
                'Military aircraft discrepancy logistics requisition ordered quantity. The quantity of equipment ordered that is required to fix the aircraft.',
            },
            readyTime: {
              type: 'string',
              description: 'The time the item is ready, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            receivedTime: {
              type: 'string',
              description:
                'The time the item is received, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            recoveryRequestTypeCode: {
              type: 'string',
              description: 'The type of recovery request needed. Contact the source provider for details.',
            },
            redeployPlanNumber: {
              type: 'string',
              description:
                'System generated reference id for the transportation plan.  Format: TXXXXXNNNN  T - Transportation, Sequence Number, Node Id.',
            },
            redeployShipmentUnitId: {
              type: 'string',
              description:
                'This is the Redeploy (return) Transportation Control Number/Tracking Reference Number for the selected item.',
            },
            requestNumber: {
              type: 'string',
              description: 'The request or record number for this item type (Equipent, Part, or MRT).',
            },
            resupportFlag: {
              type: 'boolean',
              description:
                'This element indicates if the supplied item is characterized as additional support.',
            },
            shipmentUnitId: {
              type: 'string',
              description:
                'Shipment Unit Identifier is the Transportation Control Number (TCN) for shipping that piece of equipment being requested.',
            },
            siPOC: {
              type: 'string',
              description:
                'The point of contact is a free text field to add information about the individual(s) with knowledge of the referenced requested or supplied item(s). The default value for this field is the last name, first name, and middle initial of the operator who created the records and/or generated the transaction.',
            },
            sourceICAO: {
              type: 'string',
              description:
                'The code that represents the International Civil Aviation Organization (ICAO) designations of an airport.',
            },
          },
        },
      },
      logisticsTransportationPlans: {
        type: 'array',
        description:
          'Transportation plans associated with this LogisticsSupport record, used to coordinate maintenance efforts.',
        items: {
          type: 'object',
          description:
            'Transportation plans associated with this LogisticsSupport record, used to coordinate maintenance efforts.',
          properties: {
            actDepTime: {
              type: 'string',
              description:
                'Actual time of departure of first segment, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            aircraftStatus: {
              type: 'string',
              description:
                'These are the initial maintenance values entered based on the pilot descriptions or the official maintenance evaluation code.',
            },
            approxArrTime: {
              type: 'string',
              description:
                'Approximate time of arrival of final segement, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            cancelledDate: {
              type: 'string',
              description:
                'GC. LGTP_CANX_DT.  GD2: Date when the transportation plan was cancelled, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            closedDate: {
              type: 'string',
              description:
                'GC. LGTP_CLSD_DT.  GD2:  Date when the transportation plan was closed, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            coordinator: {
              type: 'string',
              description:
                'The AMS username of the operator who alters the coordination status.  Automatically captured by the system.',
            },
            coordinatorUnit: {
              type: 'string',
              description:
                'The AMS user unit_id of the operator who alters the coordination status.  Automatically captured by the system from table AMS_USER.',
            },
            destinationICAO: {
              type: 'string',
              description: 'Destination location ICAO.',
            },
            duration: {
              type: 'string',
              description: 'Transportation plan duration, expressed in the format MMM:SS.',
            },
            estArrTime: {
              type: 'string',
              description: 'ETA of the final segment, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            estDepTime: {
              type: 'string',
              description: 'ETD of the first segment, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            lastChangedDate: {
              type: 'string',
              description:
                'Last time transportation plan was updated, in ISO 8601 UTC format with millisecond precision.',
              format: 'date-time',
            },
            logisticMasterRecordId: {
              type: 'string',
              description: 'The identifier that represents a Logistics Master Record.',
            },
            logisticsSegments: {
              type: 'array',
              description: 'The transportation segments associated with this transportation plan.',
              items: {
                type: 'object',
                description: 'Remarks associated with this LogisticsSupport record.',
                properties: {
                  arrivalICAO: {
                    type: 'string',
                    description: 'Airport ICAO arrival code.',
                  },
                  departureICAO: {
                    type: 'string',
                    description: 'Airport ICAO departure code.',
                  },
                  extMissionId: {
                    type: 'string',
                    description: 'The GDSS mission ID for this segment.',
                  },
                  idMission: {
                    type: 'string',
                    description:
                      'The unique identifier of the mission to which this logistics record is assigned.',
                  },
                  itin: {
                    type: 'integer',
                    description: 'Start air mission itinerary point identifier.',
                  },
                  missionNumber: {
                    type: 'string',
                    description: 'The user generated identifier for an air mission subgroup.',
                  },
                  missionType: {
                    type: 'string',
                    description: 'The type of mission (e.g. SAAM, CHNL, etc.).',
                  },
                  modeCode: {
                    type: 'string',
                    description:
                      'Transportation mode.  AMC airlift, Commercial airlift, Other, or surface transportation.',
                  },
                  segActArrTime: {
                    type: 'string',
                    description:
                      'Actual arrival time to segment destination, in ISO 8601 UTC format with millisecond precision.',
                    format: 'date-time',
                  },
                  segActDepTime: {
                    type: 'string',
                    description:
                      'Actual departure time to the segment destination, in ISO 8601 UTC format with millisecond precision.',
                    format: 'date-time',
                  },
                  segAircraftMDS: {
                    type: 'string',
                    description:
                      'The aircraft Model Design Series (MDS) designation (e.g. E-2C HAWKEYE, F-15 EAGLE, KC-130 HERCULES, etc.) of this aircraft. Intended as, but not constrained to, MIL-STD-6016 environment dependent specific type designations.',
                  },
                  segEstArrTime: {
                    type: 'string',
                    description:
                      'GC. LGTPS_C_DT_EST_ARR.  GD2: Estimated arrival time to the segment destination. Only supplied when the segment is not attached to a Mission, otherwise the ETA is derived from the Mission segment destination point. This datetime should be in ISO 8601 UTC format with millisecond precision.',
                    format: 'date-time',
                  },
                  segEstDepTime: {
                    type: 'string',
                    description:
                      'GC. LGTPS_C_DT_EST_DEP.  GD2: Estimated departure time from the segment origin. Only supplied when the segment is not attached to a Mission, otherwise the ETD is derived from the Mission segment origin point. This datetime should be in ISO 8601 UTC format with millisecond precision.',
                    format: 'date-time',
                  },
                  segmentNumber: {
                    type: 'integer',
                    description: 'Used to sequence the segments in the transportation plan.',
                  },
                  segTailNumber: {
                    type: 'string',
                    description:
                      'The identifier that represents a specific aircraft within an aircraft type.',
                  },
                },
              },
            },
            logisticsTransportationPlansRemarks: {
              type: 'array',
              description: 'Remarks associated with this transportation plan.',
              items: {
                type: 'object',
                description: 'Remarks associated with this LogisticsSupport record.',
                properties: {
                  lastChanged: {
                    type: 'string',
                    description:
                      'Date the remark was published or updated, in ISO 8601 UTC format, with millisecond precision.',
                    format: 'date-time',
                  },
                  remark: {
                    type: 'string',
                    description: 'Text of the remark.',
                  },
                  username: {
                    type: 'string',
                    description: 'User who published the remark.',
                  },
                },
              },
            },
            majcom: {
              type: 'string',
              description: 'The major command for the current unit.',
            },
            missionChange: {
              type: 'boolean',
              description:
                'Indicates whether there have been changes to changes to ICAOs, estArrTime, or estDepTime since this Transportation Plan was last edited.',
            },
            numEnrouteStops: {
              type: 'integer',
              description: 'Transportation plan enroute stops.',
            },
            numTransLoads: {
              type: 'integer',
              description: 'The number of transloads for this Transportation Plan.',
            },
            originICAO: {
              type: 'string',
              description: 'The origin location.',
            },
            planDefinition: {
              type: 'string',
              description: 'Defines the transporation plan as either a deployment or redeployment.',
            },
            plansNumber: {
              type: 'string',
              description:
                'System generated reference id for the transportation plan.  Format: TXXXXXNNNN  T - Transportation, Sequence Number, Node Id.',
            },
            serialNumber: {
              type: 'string',
              description:
                'GDSS2 uses an 8 character serial number to uniquely identify the aircraft and MDS combination. This is a portion of the full manufacturer serial number.',
            },
            statusCode: {
              type: 'string',
              description:
                'Transporation Coordination status code. Cancel, Send to APCC, working, agree, disapprove or blank.',
            },
            tpAircraftMDS: {
              type: 'string',
              description:
                'The aircraft Model Design Series (MDS) designation (e.g. E-2C HAWKEYE, F-15 EAGLE, KC-130 HERCULES, etc.) of this aircraft. Intended as, but not constrained to, MIL-STD-6016 environment dependent specific type designations.',
            },
            tpTailNumber: {
              type: 'string',
              description: 'Contains the tail number displayed by GDSS2.',
            },
          },
        },
      },
      maintStatusCode: {
        type: 'string',
        description:
          'The maintenance status code of the aircraft which may be based on pilot descriptions or evaluation codes. Contact the source provider for details.',
      },
      mcTime: {
        type: 'string',
        description:
          'The time indicating when all mission essential problems with a given aircraft have been fixed and is mission capable. This datetime should be in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      meTime: {
        type: 'string',
        description:
          'The time indicating when a given aircraft breaks for a mission essential reason. This datetime should be in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      origin: {
        type: 'string',
        description:
          'Originating system or organization which produced the data, if different from the source. The origin may be different than the source if the source was a mediating system which forwarded the data on behalf of the origin system. If null, the source may be assumed to be the origin.',
      },
      owner: {
        type: 'string',
        description: 'The organization that owns this logistics record.',
      },
      reopenFlag: {
        type: 'boolean',
        description: 'This is used to indicate whether a closed master record has been reopened.',
      },
      rptClosedTime: {
        type: 'string',
        description: 'The time this report was closed, in ISO 8601 UTC format with millisecond precision.',
        format: 'date-time',
      },
      suppICAO: {
        type: 'string',
        description:
          'The supplying ICAO of the aircraft that is the subject of this LogisticsSupportDetails record.',
      },
      tailNumber: {
        type: 'string',
        description:
          'The tail number of the aircraft that is the subject of this LogisticsSupportDetails record.',
      },
    },
    required: ['classificationMarking', 'dataMode', 'rptCreatedTime', 'source'],
  },
  annotations: {},
};

export const handler = async (client: Unifieddatalibrary, args: Record<string, unknown> | undefined) => {
  const body = args as any;
  const response = await client.logisticsSupport.create(body).asResponse();
  return asTextContentResult(await response.text());
};

export default { metadata, tool, handler };
